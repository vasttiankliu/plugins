# Snapshot report for `test/function.js`

The actual snapshot is saved in `function.js.snap`.

Generated by [AVA](https://ava.li).

## \_\_esModule

> Snapshot 1

    `'use strict';␊
    ␊
    function unwrapExports (x) {␊
    	return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;␊
    }␊
    ␊
    function createCommonjsModule(fn, module) {␊
    	return module = { exports: {} }, fn(module, module.exports), module.exports;␊
    }␊
    ␊
    var answer = createCommonjsModule(function (module, exports) {␊
    /* eslint-disable no-underscore-dangle */␊
    exports.__esModule = true;␊
    exports.answer = 42;␊
    });␊
    ␊
    var answer$1 = unwrapExports(answer);␊
    var answer_1 = answer.answer;␊
    ␊
    var x = /*#__PURE__*/Object.freeze({␊
    	__proto__: null,␊
    	'default': answer$1,␊
    	__moduleExports: answer,␊
    	answer: answer_1␊
    });␊
    ␊
    t.truthy('answer' in x);␊
    t.truthy('default' in x);␊
    t.truthy(!('__esModule' in x));␊
    `

## assign-properties-to-default-export

> Snapshot 1

    `'use strict';␊
    ␊
    const foo = {};␊
    ␊
    var foo_1 = foo;␊
    var bar = 1;␊
    var baz = 2;␊
    foo_1.bar = bar;␊
    foo_1.baz = baz;␊
    ␊
    t.is(foo_1.bar, 1);␊
    t.is(foo_1.baz, 2);␊
    `

## assumed-globals

> Snapshot 1

    `'use strict';␊
    ␊
    function createCommonjsModule(fn, module) {␊
    	return module = { exports: {} }, fn(module, module.exports), module.exports;␊
    }␊
    ␊
    var document_1 = createCommonjsModule(function (module) {␊
    /* eslint-disable */␊
    if (typeof document !== 'undefined') {␊
      module.exports = document;␊
    } else {␊
      module.exports = { fake: true };␊
    }␊
    });␊
    var document_2 = document_1.fake;␊
    ␊
    t.deepEqual(document_1, { real: true });␊
    `

## bare-import

> Snapshot 1

    `'use strict';␊
    ␊
    Math.bar = 42;␊
    ␊
    t.is(Math.bar, 42);␊
    `

## bare-import-comment

> Snapshot 1

    `'use strict';␊
    ␊
    // Great module␊
    Math.bar = 42;␊
    ␊
    t.is(Math.bar, 42);␊
    `

## basic

> Snapshot 1

    `'use strict';␊
    ␊
    var foo = 21;␊
    ␊
    var main = foo * 2;␊
    ␊
    module.exports = main;␊
    `

## dash-name

> Snapshot 1

    `'use strict';␊
    ␊
    var dashName = true;␊
    ␊
    t.truthy(dashName);␊
    `

## deconflict-export-and-local

> Snapshot 1

    `'use strict';␊
    ␊
    var someValue_1 = 10;␊
    ␊
    var someValue = {␊
    	someValue: someValue_1␊
    };␊
    ␊
    var someValue$1 = someValue.someValue;␊
    ␊
    t.is(someValue$1, 10);␊
    `

## dot

> Snapshot 1

    `'use strict';␊
    ␊
    var foo_bar = 'fubar';␊
    ␊
    t.is(foo_bar, 'fubar');␊
    `

## duplicate-default-exports

> Snapshot 1

    `'use strict';␊
    ␊
    const x = {};␊
    ␊
    var x_1 = x;␊
    var _default = x;␊
    x_1.default = _default;␊
    ␊
    t.is(x_1.default, x_1);␊
    `

## duplicate-default-exports-b

> Snapshot 1

    `'use strict';␊
    ␊
    const x = {};␊
    ␊
    var x_1 = x;␊
    var _default = 42;␊
    x_1.default = _default;␊
    ␊
    t.deepEqual(x_1, { default: 42 });␊
    `

## duplicate-default-exports-c

> Snapshot 1

    `'use strict';␊
    ␊
    var Foo = 1;␊
    var _var = 'VAR';␊
    var _default = {␊
      Foo: 2,␊
      default: 3␊
    };␊
    ␊
    var exports$1 = {␊
    	Foo: Foo,␊
    	var: _var,␊
    	default: _default␊
    };␊
    ␊
    /* eslint-disable */␊
    ␊
    t.is(exports$1.Foo, 1);␊
    t.is(exports$1.var, 'VAR');␊
    t.deepEqual(exports$1.default, { Foo: 2, default: 3 });␊
    t.is(exports$1.default.Foo, 2);␊
    t.is(exports$1.default.default, 3);␊
    t.is(Foo, 1);␊
    t.is(_var, 'VAR');␊
    `

## export-default-from

> Snapshot 1

    `'use strict';␊
    ␊
    var require$$0 = 'default export';␊
    ␊
    t.is(require$$0, 'default export');␊
    `

## exports

> Snapshot 1

    `'use strict';␊
    ␊
    var bar = 'BAR';␊
    var baz = 'BAZ';␊
    ␊
    var foo = {␊
    	bar: bar,␊
    	baz: baz␊
    };␊
    ␊
    const { bar: bar$1 } = foo;␊
    const { baz: baz$1 } = foo;␊
    ␊
    var main = bar$1 + baz$1;␊
    ␊
    module.exports = main;␊
    `

## external-imports

> Snapshot 1

    `'use strict';␊
    ␊
    function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }␊
    ␊
    var foo = _interopDefault(require('foo'));␊
    ␊
    var main = foo;␊
    ␊
    module.exports = main;␊
    `

## fallback-no-default

> Snapshot 1

    `'use strict';␊
    ␊
    /* eslint-disable */␊
    var one = 1;␊
    ␊
    var two = 2;␊
    ␊
    var foo = /*#__PURE__*/Object.freeze({␊
    	__proto__: null,␊
    	one: one,␊
    	two: two␊
    });␊
    ␊
    t.is(foo.one, 1);␊
    t.is(foo.two, 2);␊
    `

## global-not-overwritten

> Snapshot 1

    `'use strict';␊
    ␊
    Object.defineProperty(exports, '__esModule', { value: true });␊
    ␊
    var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};␊
    ␊
    function createCommonjsModule(fn, module) {␊
    	return module = { exports: {} }, fn(module, module.exports), module.exports;␊
    }␊
    ␊
    var encode = createCommonjsModule(function (module, exports) {␊
    exports.encodeURIComponent = function() {␊
      return encodeURIComponent(this.str);␊
    };␊
    ␊
    // to ensure module is wrapped␊
    commonjsGlobal.foo = exports;␊
    });␊
    var encode_1 = encode.encodeURIComponent;␊
    ␊
    /* eslint-disable */␊
    ␊
    const foo = {␊
      str: 'test string',␊
      encodeURIComponent: encode_1␊
    };␊
    ␊
    var encoded = foo.encodeURIComponent();␊
    ␊
    exports.encoded = encoded;␊
    `

## global-var

> Snapshot 1

    `'use strict';␊
    ␊
    var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};␊
    ␊
    /* eslint-disable */␊
    function foo() {␊
      const global = {};␊
      global.modified = true;␊
      return global;␊
    }␊
    ␊
    const notGlobal = foo();␊
    t.truthy(notGlobal.modified);␊
    t.truthy(!commonjsGlobal.modified);␊
    ␊
    var main = {};␊
    ␊
    module.exports = main;␊
    `

## index

> Snapshot 1

    `'use strict';␊
    ␊
    var foo = 42;␊
    ␊
    t.is(foo, 42);␊
    `

## inline

> Snapshot 1

    `'use strict';␊
    ␊
    var multiply = function(a, b) {␊
      return a * b;␊
    };␊
    ␊
    var foo = 1;␊
    ␊
    /* eslint-disable global-require */␊
    var main = function() {␊
      return multiply(2, foo);␊
    };␊
    ␊
    module.exports = main;␊
    `

## named-exports

> Snapshot 1

    `'use strict';␊
    ␊
    var a = 1;␊
    var b = 2;␊
    ␊
    t.is(a, 1);␊
    t.is(b, 2);␊
    `

## ordering

> Snapshot 1

    `'use strict';␊
    ␊
    var shared = {␊
      fooLoaded: false␊
    };␊
    ␊
    // Mutate the shared module␊
    shared.fooLoaded = true;␊
    ␊
    var bar = shared.fooLoaded;␊
    ␊
    t.truthy(bar);␊
    `

## react-apollo

> Snapshot 1

    `'use strict';␊
    ␊
    function unwrapExports (x) {␊
    	return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;␊
    }␊
    ␊
    function createCommonjsModule(fn, module) {␊
    	return module = { exports: {} }, fn(module, module.exports), module.exports;␊
    }␊
    ␊
    var commonjsBar = createCommonjsModule(function (module, exports) {␊
    /* eslint-disable no-underscore-dangle */␊
    function Bar() {␊
      this.x = 42;␊
    }␊
    ␊
    exports.__esModule = true;␊
    exports.default = Bar;␊
    });␊
    ␊
    unwrapExports(commonjsBar);␊
    ␊
    var commonjsFoo = createCommonjsModule(function (module, exports) {␊
    /* eslint-disable no-underscore-dangle */␊
    ␊
    ␊
    exports.__esModule = true;␊
    exports.Bar = commonjsBar.default;␊
    });␊
    ␊
    unwrapExports(commonjsFoo);␊
    var commonjsFoo_1 = commonjsFoo.Bar;␊
    ␊
    t.is(new commonjsFoo_1().x, 42);␊
    `

## reassignment

> Snapshot 1

    `'use strict';␊
    ␊
    function foo() {}␊
    foo.something = false;␊
    ␊
    var foo_1 = foo;␊
    ␊
    let foo$1 = foo_1;␊
    ␊
    if (!foo$1.something) {␊
      foo$1 = function somethingElse() {};␊
      foo$1.something = true;␊
    }␊
    ␊
    t.truthy(foo$1.something);␊
    `

## reexports

> Snapshot 1

    `'use strict';␊
    ␊
    var named = 42;␊
    ␊
    var bar = {␊
    	named: named␊
    };␊
    ␊
    var foo = bar;␊
    var foo_1 = foo.named;␊
    ␊
    t.is(foo_1, 42);␊
    `

## resolve-is-cjs-extension

> Snapshot 1

    `'use strict';␊
    ␊
    const result = 'second';␊
    ␊
    var second = /*#__PURE__*/Object.freeze({␊
    	__proto__: null,␊
    	result: result␊
    });␊
    ␊
    function getCjsExportFromNamespace (n) {␊
    	return n && n['default'] || n;␊
    }␊
    ␊
    var require$$0 = getCjsExportFromNamespace(second);␊
    ␊
    t.is(require$$0.result, 'second');␊
    `

## resolve-is-cjs-filtered

> Snapshot 1

    `'use strict';␊
    ␊
    const result = 'second';␊
    ␊
    var second = /*#__PURE__*/Object.freeze({␊
    	__proto__: null,␊
    	result: result␊
    });␊
    ␊
    function getCjsExportFromNamespace (n) {␊
    	return n && n['default'] || n;␊
    }␊
    ␊
    var require$$0 = getCjsExportFromNamespace(second);␊
    ␊
    t.is(require$$0.result, 'second');␊
    `

## shadowing

> Snapshot 1

    `'use strict';␊
    ␊
    function foo(require) {␊
      require('not-an-actual-require-statement');␊
    }␊
    ␊
    let result;␊
    ␊
    foo((msg) => {␊
      result = msg;␊
    });␊
    ␊
    t.is(result, 'not-an-actual-require-statement');␊
    `

## skips-dead-branches

> Snapshot 1

    `'use strict';␊
    ␊
    var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};␊
    ␊
    commonjsGlobal.b = 2;␊
    var b = 'b';␊
    ␊
    var main =  b ;␊
    ␊
    module.exports = main;␊
    `

## this

> Snapshot 1

    `'use strict';␊
    ␊
    var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};␊
    ␊
    var foo = function augmentThis() {␊
      this.x = 'x';␊
    };␊
    ␊
    commonjsGlobal.y = 'y';␊
    ␊
    const obj = {};␊
    foo.call(obj);␊
    ␊
    t.is(obj.x, 'x');␊
    t.is(commonjsGlobal.y, 'y');␊
    `

## toplevel-return

> Snapshot 1

    `'use strict';␊
    ␊
    /* eslint-disable */␊
    ␊
    ␊
    var main = 'foo';␊
    ␊
    module.exports = main;␊
    `

## toplevel-return-complex

> Snapshot 1

    `'use strict';␊
    ␊
    function createCommonjsModule(fn, module) {␊
    	return module = { exports: {} }, fn(module, module.exports), module.exports;␊
    }␊
    ␊
    var foo = createCommonjsModule(function (module) {␊
    module.exports = 'bar';␊
    {␊
      return;␊
    }␊
    });␊
    ␊
    var main = foo;␊
    ␊
    module.exports = main;␊
    `

## trailing-slash

> Snapshot 1

    `'use strict';␊
    ␊
    var foo = 42;␊
    ␊
    t.is(foo, 42);␊
    `

## typeof-require

> Snapshot 1

    `'use strict';␊
    ␊
    function commonjsRequire () {␊
    	throw new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');␊
    }␊
    ␊
    function createCommonjsModule(fn, module) {␊
    	return module = { exports: {} }, fn(module, module.exports), module.exports;␊
    }␊
    ␊
    var foo = createCommonjsModule(function (module) {␊
    if (typeof commonjsRequire === 'function' && commonjsRequire) {␊
      module.exports = 1;␊
    } else {␊
      module.exports = 2;␊
    }␊
    });␊
    ␊
    t.is(foo, 1);␊
    `
